<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Числа</title>
    <link rel="stylesheet" href="../style.css">
</head>
<body>
    <section>
        <a href="../1_var_type.html"><<назад</a>
        <h1>Числа</h1>
        <p>
          Все числа в JavaScript, как целые так и дробные, имеют тип Number и записывать их можно не только в десятичной системе счисления.

<h2>
    Приведение к числу
</h2>

Большинство арифметических операций и математических функций преобразуют значение в число автоматически. Для того чтобы сделать это явно, используйте функцию Number(val), передавая ей в val то, что надо привести к числу.
<br><br>
Если значение не возможно привести к числу, результатом будет специальное числовое значение NaN (Not a Number). Аналогичным образом происходит преобразование и в других математических операторах и функциях.

<code>
    const valueA = "5";
<br> console.log(Number(valueA)); // 5
<br> console.log(typeof Number(valueA)); // "number"
<br> 
<br> const valueB = "random string";
<br> console.log(Number(valueB)); // NaN
<br> console.log(typeof Number(valueB)); // "number"
</code>

<h2>
    Методы Number.parseInt() и Number.parseFloat()
</h2>

Преобразуют строку символ за символом, пока это возможно. При возникновении ошибки возвращается число, которое получилось.
<br><br>
Метод <span>Number.parseInt()</span> парсит из строки целое число.

<code>
    console.log(Number.parseInt("5px")); // 5
<br> console.log(Number.parseInt("12qwe74")); // 12
<br> console.log(Number.parseInt("12.46qwe79")); // 12
<br> console.log(Number.parseInt("qweqwe")); // NaN
</code>


Метод<span> Number.parseFloat()</span> парсит из строки дробное число.

<code>
    console.log(Number.parseFloat("5px")); // 5
<br> console.log(Number.parseFloat("12qwe74")); // 12
<br> console.log(Number.parseFloat("12.46qwe79")); // 12.46
<br> console.log(Number.parseFloat("qweqwe")); // NaN
</code>


<h2>
    Проверка на число
</h2>

Для проверки на число можно использовать метод <span>Number.isNaN(val)</span>. Он проверяет, является ли указанное значение NaN или нет. Метод отвечает на вопрос "Это Not A Number?" и возвращает:

<ul>
    <li>true - если значение val это NaN</li>
    <li>false - если значение val это не NaN</li>
</ul>

Для всех значений val кроме NaN, при передаче в <span>Number.isNaN(val)</span> вернёт false. Этот метод не производит попытку преобразовать val к числу, а просто выполняет проверку на NaN.

<code>
    const validNumber = Number("51"); // 51
<br> console.log(Number.isNaN(validNumber)); // false
<br> 
<br> const invalidNumber = Number("qweqwe"); // NaN
<br> console.log(Number.isNaN(invalidNumber)); // true
</code>


<h2>
    Сложение чисел с плавающей точкой
</h2>

При сложении не целых чисел в JavaScript и других языках программирования, есть особенность. Если кратко, то 0.1 + 0.2 не равно 0.3, результат сложения больше чем 0.3. Все от того что машина считает в двоичной системе.
<br><br>
Число 0.1 в двоичной системе счисления - это бесконечная дробь, так как единица на десять в двоичной системе не делится. Двоичное значение бесконечных дробей хранится только до определенного знака, поэтому возникает неточность. При сложении 0.1 и 0.2, две неточности складываются, получается незначительная, но всё же ошибка в вычислениях.

<code>
    console.log(0.1 + 0.2 === 0.3); // false
<br>console.log(0.1 + 0.2); // 0.30000000000000004
</code>

Конечно, это не означает, что точные вычисления для таких чисел невозможны. Есть несколько методов решения этой проблемы.
<br><br>
Можно сделать их целыми, умножив на N, сложить, а потом результат разделить также на N.

<code>
    console.log(0.17 + 0.24); // 0.41000000000000003
<br>console.log((0.17 * 100 + 0.24 * 100) / 100); // 0.41
</code>

Еще один способ - сложить, а результат отсечь до определённого знака после запятой при помощи метода toFixed().

<code>
    console.log(0.17 + 0.24); // 0.41000000000000003
<br>console.log((0.17 + 0.24).toFixed(2)); // 0.41
</code>

<h2>
    Класс Math
</h2>

Один из встроенных классов, который предоставляет набор методов для работы с числами. Знание всех методов наизусть не требуется, только некоторых, наиболее полезных.

<code>
    // Math.floor(num) - возвращает наибольшее целое число,
<br> // меньшее, либо равное указанному
<br> console.log(Math.floor(1.7)); // 1
<br> 
<br> // Math.ceil(num) - возвращает наименьшее целое число,
<br> // большее, либо равное указанному числу.
<br> console.log(Math.ceil(1.2)); // 2
<br> 
<br> // Math.round(num) - возвращает значение числа,
<br> // округлённое до ближайшего целого
<br> console.log(Math.round(1.2)); // 1
<br> console.log(Math.round(1.5)); // 2
<br> 
<br> // Math.max(num1, num2, ...) - возвращает наибольшее число из набора
<br> console.log(Math.max(20, 10, 50, 40)); // 50
<br> 
<br> // Math.min(num1, num2, ...) - возвращает наименьшее число из набора
<br> console.log(Math.min(20, 10, 50, 40)); // 10
<br> 
<br> // Math.pow(base, exponent) - возведение в степень
<br> console.log(Math.pow(2, 4)); // 16
<br> 
<br> // Math.random() - возвращает псевдослучайное число в диапазоне [0, 1)
<br> console.log(Math.random()); // случайное число между 0 и 1
<br> console.log(Math.random() * (10 - 1) + 1); // псевдослучайное число от 1 до 10
</code>
        </p> 
    </section>
</body>
</html>