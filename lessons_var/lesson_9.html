<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Строки</title>
    <link rel="stylesheet" href="../style.css">
</head>
<body>
    <section>
        <a href="../1_var_type.html"><<назад</a>
        <h1>Строки</h1>
        <p>
            Строка - это индексированный набор из нуля или более символов, заключенных в одинарные либо двойные кавычки.

<code>
    const username = "Mango";
</code>

Важно помнить, что индексация элементов строки начинается с нуля. К примеру в строке "JavaScript" буква "J" стоит на позиции с индексом 0, а "t" идет под индексом 9.
<br><br>
Содержимое строки нельзя изменить, только прочитать. То есть нельзя взять какой-то символ и заменить его, как только строка создана - она такая навсегда. Можно лишь создать целиком новую строку и присвоить в переменную вместо старой.

<h2>
    Конкатенация строк
</h2>

Если применить оператор + к строке и любому другому типу данных, результатом операции «сложения» будет строка. Эта операция называется конкатенация, или сложение строк.
<br><br>
Во время конкатенации, любой тип данных приводится к строке и сшивается со строкой, но есть особенность - последовательность записи операндов.
<br><br>
Последовательность операций имеет значение, преобразование типов происходит только в момент операции сложения со строкой, до этого момента действуют привычные правила математики.

<code>
    const message = "Mango " + "is" + " happy";
<br> console.log(message); // Mango is happy
<br> 
<br> Посмотрим на разный порядок операндов.
<br> 
<br> console.log(1 + "2"); // "12"
<br> console.log(1 + "2" + 4); // "124"
<br> console.log(1 + 2 + "4"); // "34"
</code>

В последнем примере произошла математическая операция сложения для первых двух чисел 1 и 2, после чего число 3 было преобразовано в строку "3" и сшито со строкой "4".

<h2>
    Шаблонные строки
</h2>
Шаблонные строки это альтернатива конкатенации с более удобным синтаксисом. Шаблонная строка заключена в обратные (косые) кавычки вместо двойных или одинарных и может содержать местозаполнители, которые обозначаются знаком доллара и фигурными скобками - ${выражение}.

<code>
    // Используя переменные необходимо составить строку с подставленными значениями
<br> const guestName = "Манго";
<br> const roomNumber = 207;
<br> const greeting =
<br>   "Welcome " + guestName + ", your room number is " + roomNumber + "!";
<br> console.log(greeting); // "Welcome Mango, your room number is 207!"

</code>

Составлять строки с подставляемыми значениями используя конкатенацию очень неудобно. На помощь приходят шаблонные строки и интерполяция.

<code>
    const guestName = "Манго";
<br> const roomNumber = 207;
<br> const greeting = `Welcome ${guestName}, your room number is ${roomNumber}!`;
<br> console.log(greeting); // "Welcome Mango, your room number is 207!"

</code>

<h2>
    Свойства и методы строк
</h2>

У каждой строки есть встроенные свойства и методы, рассмотрим некоторые из них.

<h2>
    Свойство length
</h2>
Для того чтобы узнать длину строки, то есть количество её символов, у всех строк есть встроенное свойство length, значение которого можно получить обратившись к нему через точку после имени переменной или строкового литерала.

<code>
    const message = "Welcome to Bahamas!";
<br> console.log(message.length); // 19
<br> console.log("There is nothing impossible to him who will try".length); // 47

</code>

<h2>
    Методы toLowerCase() и toUpperCase()
</h2>
Возвращают новую строку в соответствующем регистре, не изменяя оригинальную строку.

<code>
    const message = "Welcome to Bahamas!";
<br> console.log(message.toLowerCase()); // "welcome to bahamas!"
<br> console.log(message.toUpperCase()); // "WELCOME TO BAHAMAS!"
<br> console.log(message); // "Welcome to Bahamas!"
</code>


Бывают ситуации когда все символы в строке необходимо преобразовать в один регистр, верхний или нижний. Например, при поиске по ключевому слову, когда пользователь вводит строку 'saMsUng', а сравнить её надо со строкой 'samsung' или 'SAMSUNG'.

<code>
    console.log("saMsUng" === "samsung"); // false
<br> console.log("saMsUng" === "SAMSUNG"); // false
</code>

Чтобы не требовать абсолютно точный ввод можно сделать «нормализацию» введённой пользователем строки, то есть преобразовать все её символы в верхний или нижний регистр. Методы строки toLowerCase() и toUpperCase() вернут новую строку в соответствующем регистре, не изменяя оригинальную.

<code>
    const BRAND_NAME = "SAMSUNG";
<br> const userInput = "saMsUng";
<br> const normalizedToUpperCaseInput = userInput.toUpperCase();
<br> 
<br> console.log(userInput); // 'saMsUng'
<br> console.log(userInput === BRAND_NAME); // false
<br> console.log(normalizedToUpperCaseInput); // 'SAMSUNG'
<br> console.log(normalizedToUpperCaseInput === BRAND_NAME); // true
</code>


<h2>
    Метод indexOf()
</h2>

Возвращает позицию (индекс) на которой находится первое совпадение подстроки или -1, если ничего не найдено.
 
<code>
const message = "Welcome to Bahamas!";
<br> console.log(message.indexOf("to")); // 8
<br> console.log(message.indexOf("hello")); // -1
</code>

<h2>
    Метод includes()
</h2>
Проверяет входит ли подстрока в строку, возвращает буль - true если входит и false в противном случае. Регистр символов в строке и подстроке имеет значение, так как например буква "a" не равна букве "А".

<code>
    const productName = "Ремонтный дроид";
<br> 
<br> console.log(productName.includes("н")); // true
<br> console.log(productName.includes("Н")); // false
<br> console.log(productName.includes("дроид")); // true
<br> console.log(productName.includes("Дроид")); // false
<br> console.log(productName.includes("Ремонтный")); // true
<br> console.log(productName.includes("ремонтный")); // false
</code>


<h4>
    ИНТЕРЕСНО
Все методы строк чувствительны к регистру.
</h4>

<h2>
    Метод endsWith()
</h2>
Позволяет определить, заканчивается ли строка символами (подстрокой) указанными в скобках, возвращая true или false.

<code>
    const jsFileName = "script.js";
<br>console.log(jsFileName.endsWith(".js")); // true
<br>
<br>const cssFileName = "styles.css";
<br>console.log(cssFileName.endsWith(".js")); // false
</code>

<h2>
    Методы replace() и replaceAll()
</h2>

Возвращают новую строку, в которой первое (replace) или все совпадения (replaceAll) подстроки заменены на указанное значение.

<code>
    const jsFileName = "script.js";
<br>const minifiedJsFileName = jsFileName.replace(".js", ".min.js");
<br>console.log(minifiedJsFileName); // "script.min.js"
<br>
<br>const cssFileNames = "styles.css, about.css, portfolio.css";
<br>const minifiedCssFileNames = cssFileNames.replaceAll(".css", ".min.css");
<br>console.log(minifiedCssFileNames); // "styles.min.css, about.min.css, portfolio.min.css"

</code>

<h2>
    Метод slice()
</h2>

Метод строк slice(startIndex, endIndex) используется для создания копии части или всей строки. Он делает копию элементов строки от startIndex и до, но не включая endIndex и возвращает новую строку, не изменяя оригинал.

<code>
    const productName = "Repair droid";
<br> console.log(productName.slice(0, 4)); // "Repa"
<br> console.log(productName.slice(3, 9)); // "air dr"
<br> console.log(productName.slice(0, productName.length)); // "Repair droid"
<br> console.log(productName.slice(7, productName.length)); // "droid"
</code>
        </p>
    </section>
</body>
</html>